<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:local="clr-namespace:MeisterWill.WindowsExplorer">
    <ResourceDictionary.MergedDictionaries>
        <ResourceDictionary Source="pack://application:,,,/WindowsExplorer;component/Themes/ExpandToggleButton.xaml"/>
    </ResourceDictionary.MergedDictionaries>
    <Style TargetType="{x:Type local:TreeListViewExpander}" BasedOn="{StaticResource ExpandToggleButtonStyle}">
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="IsChecked" Value="{Binding IsExpanded, RelativeSource={RelativeSource AncestorType=local:TreeListViewItem}}"/>
        <Setter Property="VerticalAlignment" Value="Stretch"/>
        <Setter Property="HorizontalAlignment" Value="Stretch"/>
        <Setter Property="Focusable" Value="False"/>
        <Setter Property="Depth" Value="{Binding Depth, RelativeSource={RelativeSource AncestorType=local:TreeListViewItem}}"/>
        <Style.Triggers>
            <DataTrigger Binding="{Binding (TreeViewItem.HasItems), RelativeSource={RelativeSource AncestorType=local:TreeListViewItem}}" Value="false">
                <Setter Property="Visibility" Value="Hidden"/>
            </DataTrigger>
        </Style.Triggers>
    </Style>
</ResourceDictionary>